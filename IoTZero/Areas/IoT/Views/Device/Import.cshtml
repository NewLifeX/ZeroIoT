@model Device
@using NewLife;
@using NewLife.Web;
@using NewLife.Cube;
@using XCode;
@using IoT.Data;
@{
    var fact = ViewBag.Factory as IEntityFactory;
    var entity = Model as Device;
}
<div class="form-horizontal">
    @using (Html.BeginForm("Upload", null, new { id = Model.Id }, FormMethod.Post, null, new { enctype = "multipart/form-data" }))
    {
        <div class="form-group col-xs-12 col-sm-6">
            <label class="control-label col-xs-3 col-sm-3">名称</label>
            <div class="input-group col-xs-9 col-sm-9">
                @entity.Name
            </div>
        </div>
        <div class="form-group col-xs-12 col-sm-6">
            <label class="control-label col-xs-3 col-sm-3">编码</label>
            <div class="input-group col-xs-9 col-sm-5">
                @entity.Code
            </div>
        </div>
        <div class="form-group col-xs-12 col-sm-6">
            <label class="control-label col-xs-3 col-sm-3">协议</label>
            <div class="input-group col-xs-9 col-sm-5">
                <select class="multiselect" id="ProtocolType" name="ProtocolType">
                    <option selected="selected" value="ModbusRTU">Modbus（串口RS232/RS485）</option>
                    <option value="ModbusTCP">Modbus（以太网Tcp）</option>
                    <option value="OpcUA">OPC UA（开放平台通信统一体系结构）</option>
                    <option value="-1">&lt;无&gt;</option>
                </select>
            </div>
            <span class="hidden-xs col-sm-4">
                <span class="middle">设备接入网关的协议类型，如ModbusRTU/ModbusTCP</span>
            </span>

        </div>
        <div class="form-group col-xs-12 col-sm-6">
            <label class="control-label col-xs-3 col-sm-3">设备地址</label>
            <div class="input-group col-xs-9 col-sm-5">
                <input class="form-control" id="Address" name="Address" type="text" value="tcp://127.0.0.1:502" />
            </div>
            <span class="hidden-xs col-sm-4">
                <span class="middle">串口号COM1，或/dev/ttyAMA2，或者ModbusTCP的设备地址，tcp://127.0.0.1:502</span>
            </span>
        </div>
        <div class="form-group col-xs-12 col-sm-6">
            <label class="control-label col-xs-3 col-sm-3">波特率</label>
            <div class="input-group col-xs-9 col-sm-5">
                <input class="form-control" id="Baudrate" name="Baudrate" role="number" type="text" value="9600" />
            </div>
            <span class="hidden-xs col-sm-4">
                <span class="middle">仅串口使用，默认9600</span>
            </span>
        </div>
        <div class="form-group col-xs-12 col-sm-6">
            <label class="control-label col-xs-3 col-sm-3">从站号</label>
            <div class="input-group col-xs-9 col-sm-5">
                <input class="form-control" id="Host" name="Host" role="number" type="text" value="1" />
            </div>
            <span class="hidden-xs col-sm-4">
                <span class="middle">默认 1</span>
            </span>
        </div>
        <div class="form-group col-xs-12 col-sm-6">
            <label class="control-label col-xs-3 col-sm-3">Excel文件</label>
            <div class="input-group">
                <span class="input-group-addon">
                    <i class="glyphicon glyphicon-file"></i>
                </span>
                <input name="file" type="file" id="file" placeholder="上传文件" />
            </div>
        </div>
        <div class="form-group col-xs-12 col-sm-6">
            <label class="control-label col-xs-3 col-sm-3">导入模板</label>
            <div class="input-group col-xs-9 col-sm-5">
                <a href="~/Content/ModelFile/importModel.xlsx">数据点导入模板.xlsx</a>
            </div>
        </div>

        <div class="clearfix form-actions col-xs-12 col-sm-12 col-md-12">
            <label class="control-label col-xs-4 col-sm-5 col-md-5"></label>
            <button type="submit" class="btn btn-success btn-sm"><i class="glyphicon glyphicon-plus"></i><strong>上传</strong></button>
            <button type="button" class="btn btn-danger btn-sm" onclick="history.go(-1);"><i class="glyphicon glyphicon-remove"></i><strong>取消</strong></button>
        </div>
    }
</div>